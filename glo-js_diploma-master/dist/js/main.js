(()=>{"use strict";(()=>{const e=document.querySelector(".top-slider"),t=document.querySelectorAll(".item"),o=document.querySelector(".slick-dots");let n,l=document.querySelectorAll(".dot"),c=0;const s=(e,t,o)=>{e[t].classList.remove(o)},a=(e,t,o)=>{e[t].classList.add(o)},r=()=>{s(t,c,"item-active"),s(l,c,"slick-active"),c++,c>=t.length&&(c=0),a(t,c,"item-active"),a(l,c,"slick-active")},i=(e=1500)=>{n=setInterval(r,e)};t.length>0&&(o.innerHTML="",t.forEach(((e,t)=>{const n=document.createElement("li");n.classList.add("dot"),e.classList.contains("item-active")&&(n.classList.add("slick-active"),c=t),o.append(n)})),l=document.querySelectorAll(".dot"),e.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(".dot")&&(s(t,c,"item-active"),s(l,c,"slick-active"),e.target.classList.contains("dot")&&l.forEach(((t,o)=>{e.target===t&&(c=o)})),c>=t.length&&(c=0),c<0&&(c=t.length-1),a(t,c,"item-active"),a(l,c,"slick-active"))}))),e.addEventListener("mouseenter",(e=>{e.target.matches(".dot")&&clearTimeout(n)}),!0),e.addEventListener("mouseleave",(e=>{e.target.matches(".dot")&&i(3e3)}),!0),i(3e3)})(),(()=>{const e=document.querySelector(".modal-overlay"),t=document.querySelector(".modal-callback");document.addEventListener("click",(o=>(o=>{(o.target.closest(".callback-btn")||o.target.closest(".button-services")||o.target.closest(".services-item"))&&(o.preventDefault(),t.style.display="block",e.style.display="block"),(o.target.closest(".modal-close")||o.target.closest(".modal-overlay"))&&(t.style.display="none",e.style.display="none")})(o)))})(),(()=>{document.querySelector(".top-menu");const e=document.querySelector(".mobile-menu");document.addEventListener("click",(t=>(t=>{if(t.target.closest(".top-menu")&&t.target.matches("ul>li>a")){t.preventDefault();const e=t.target.getAttribute("href");document.querySelector(e).scrollIntoView({behavior:"smooth",block:"start"})}t.target.closest(".mob-menu-btn")&&(t.preventDefault(),e.style.right="0px"),t.target.closest(".mobile-menu-close")&&(t.preventDefault(),e.style.right="-500px")})(t)))})(),(()=>{const e=document.querySelector(".push70"),t=document.querySelector(".up"),o=document.querySelector(".up_href");window.addEventListener("scroll",(()=>{const o=document.documentElement.scrollTop;o<e.offsetTop?t.style.display="none":o>e.offsetTop&&(t.style.display="block")})),o.addEventListener("click",(e=>{e.preventDefault();const t=o.getAttribute("href");document.querySelector(t).scrollIntoView({behavior:"smooth",block:"start"})}))})(),document.querySelectorAll("form").forEach((e=>{e.addEventListener("input",(e=>{e.target.matches('input[name="fio"]')?e.target.value=e.target.value.replace(/[^А-ЯЁа-яё\s]/,""):e.target.matches('input[name="tel"]')&&(e.target.value=e.target.value.replace(/[^\d\+]/gi,""))}))})),(()=>{const e=document.querySelectorAll(".services-item"),t=document.querySelector(".arrow-right"),o=document.querySelector(".arrow-left");let n;n=window.outerWidth<570?1:window.outerWidth<870&&window.outerWidth>570?2:3,console.log(window.outerWidth);let l=0;e.forEach((e=>{l<n?l++:e.style.display="none"})),l=0,0===l&&(o.style.opacity=.2),o.addEventListener("click",(()=>{l>0&&(l-=1,n-=1,e[l].style.display="block",e[n].style.display="none",t.style.opacity=1,0===l&&(o.style.opacity=.3))})),t.addEventListener("click",(()=>{n<e.length&&(e[l++].style.display="none",e[n++].style.display="block",n===e.length&&(t.style.opacity=.5),o.style.opacity=1)}))})(),(()=>{const e=document.querySelectorAll(".accordeon-item"),t=document.querySelectorAll(".accordeon-item_desc"),o=()=>{for(let o=0;o<e.length;o++)e[o].classList.contains("active")?t[o].style.display="block":t[o].style.display="none"};e.forEach((t=>{o(),t.addEventListener("click",(()=>{t.classList.contains("active")?(t.classList.remove("active"),o()):((()=>{for(let t of e)t.classList.remove("active")})(),t.classList.add("active"),o())}))}))})(),(({formId:e})=>{const t=document.getElementById(e),o=document.createElement("div"),n=document.querySelector(".modal-callback"),l=document.querySelector(".modal-overlay");try{if(!t)throw new Error("Верните форму на место");t.addEventListener("submit",(e=>{e.preventDefault(),(()=>{const e=t.querySelectorAll("input"),c=new FormData(t),s={};o.textContent="Загрузка...",t.append(o),c.forEach(((e,t)=>[s[t]=e])),(e=>{let t=!0;return e.forEach((e=>{"fio"==e.name&&e.value.length<2&&(t=!1),"tel"==e.name&&e.value[0]===e.value[1]&&(t=!1)})),t})(e)?(async e=>{await fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))})(s).then((t=>{o.textContent="Спасибо наш менеджер с вами свяжется",e.forEach((e=>{e.closest(".feedback")||(e.value="")}))})).catch((e=>{o.textContent="Ошибка..."})).finally((()=>{setTimeout((()=>o.textContent=""),2e3),setTimeout((()=>{n.style.display="none",l.style.display="none",document.body.style.overflow=""}),4e3)})):o.textContent="Данные не валидны!!!"})()}))}catch(e){console.log(e.message)}})({formId:"form1"}),(()=>{const e=document.getElementById("num1"),t=document.getElementById("num2"),o=document.getElementById("num3"),n=document.getElementById("num4");let l=0,c=+e.textContent,s=+t.textContent,a=+o.textContent,r=+n.textContent;window.addEventListener("scroll",(()=>{const i=document.querySelector(".services-arrow"),d=document.documentElement.scrollTop;d<i.offsetTop||d>i.offsetTop&&0===l&&((({timing:e,draw:t,duration:o})=>{let n=performance.now();requestAnimationFrame((function l(c){let s=(c-n)/o;s>1&&(s=1);let a=e(s);t(a),s<1&&requestAnimationFrame(l)}))})({duration:1400,timing:e=>e,draw(l){e.textContent=0+Math.round((c-0)*l),t.textContent=0+Math.round((s-0)*l),o.textContent=0+Math.round((a-0)*l),n.textContent=0+Math.round((r-0)*l)}}),l++)}))})()})();